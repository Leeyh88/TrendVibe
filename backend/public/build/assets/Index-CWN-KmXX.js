import{m as _,p as z,J as F,B as P,g as l,a as C,b as $,h as N,w as H,d as t,o as r,F as b,q as L,n as x,e as v,t as h,f as n,i as Y,s as w,y as f,k as A,x as D,N as U}from"./app-DL_rPgRt.js";import{_ as q}from"./AuthenticatedLayout-BtckI5xF.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const W={class:"py-12 bg-[#0F1115] min-h-screen"},J={class:"max-w-6xl mx-auto px-6 w-full"},K={class:"relative"},G={class:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6"},O={class:"relative aspect-video bg-black overflow-hidden"},Q=["id"],X=["onClick"],Z=["fill"],tt=["onClick"],et={key:0,xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"3"},st={key:1,xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 animate-pulse",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"3"},ot={class:"p-8 sm:p-10 text-center relative"},lt={class:"mb-8 px-4"},rt={class:"text-[9px] font-black text-indigo-500 uppercase tracking-[0.3em] mb-2 block font-sans"},at={class:"flex justify-center mb-4 relative"},it={key:0,class:"relative"},nt=["onClick"],dt=["src"],ct={key:1,xmlns:"http://www.w3.org/2000/svg",class:"w-3.5 h-3.5 text-gray-500 group-hover/user:text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},ut={class:"text-[10px] font-black text-gray-400 group-hover/user:text-white uppercase tracking-tight"},pt=["onClick"],gt={key:1,class:"px-3 py-1.5 bg-white/5 rounded-full border border-white/5 animate-pulse"},vt={class:"text-xl sm:text-2xl font-black text-white mb-2 tracking-tighter truncate leading-tight group-hover:text-indigo-400 transition-colors"},ht={class:"text-[10px] sm:text-xs text-gray-500 font-bold uppercase tracking-widest"},wt=["onClick","disabled"],ft={key:1,class:"w-5 h-5 border-2 border-indigo-500 border-t-transparent rounded-full animate-spin"},bt={__name:"Index",props:{candidates:{type:Array,default:()=>[]}},setup(M){const c=w(null),j=(s,e)=>{s.preventDefault(),s.stopPropagation(),c.value===e?c.value=null:c.value=e},k=()=>{c.value=null},B=s=>{c.value=null,f.visit(`/public-profile/${s}`)};_(()=>{window.addEventListener("click",k)}),z(()=>{window.removeEventListener("click",k)});const V=M,m=U(),p=A(()=>V.candidates||m.props.candidates||[]),i=w([null,null]),u=w([!0,!0]),d=w(null),y=()=>{!p.value||p.value.length<2||p.value.forEach((s,e)=>{const o=`player-${e}`;if(document.getElementById(o)){if(i.value[e])try{i.value[e].destroy()}catch{}i.value[e]=new window.YT.Player(o,{videoId:s.youtube_video_id,playerVars:{autoplay:1,mute:1,controls:0,start:60,modestbranding:1,playsinline:1},events:{onReady:a=>a.target.playVideo()}})}})};_(async()=>{if(await F(),window.YT)y();else{const s=document.createElement("script");s.src="https://www.youtube.com/iframe_api";const e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(s,e),window.onYouTubeIframeAPIReady=y}}),P(()=>{i.value.forEach(s=>{s&&s.destroy&&s.destroy()})});const I=s=>{if(d.value!==null)return;const e=p.value.find(a=>a.id!==s),o=e?e.id:null;f.post(route("worldcup.vote",{id:s}),{loser_id:o},{preserveState:!1,onStart:()=>{d.value=s},onError:()=>{d.value=null,alert("ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.")},onFinish:()=>{d.value=null}})},E=()=>{f.get(route("mixmatch"),{},{preserveScroll:!1,replace:!0})},S=s=>{i.value[s]&&(u.value[s]?(i.value.forEach((e,o)=>{e&&e.mute&&(e.mute(),u.value[o]=!0)}),i.value[s].unMute(),i.value[s].setVolume(50),u.value[s]=!1):(i.value[s].mute(),u.value[s]=!0))},T=s=>{if(!m.props.auth.user){confirm("ë¡œê·¸ì¸ì´ í•„ìš”í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")&&f.get(route("login"));return}D.post("/favorites/toggle",{track_id:String(s.id),type:"remix",title:s.track_title||s.title,thumbnail:`https://img.youtube.com/vi/${s.youtube_video_id}/mqdefault.jpg`}).then(e=>{s.isFavorite=e.data.isFavorite}).catch(e=>{console.error("ê´€ì‹¬ê³¡ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜:",e)})};return(s,e)=>(r(),l(b,null,[C($(N),{title:"ë¯¹ìŠ¤ë§¤ì¹˜"}),C(q,null,{default:H(()=>[t("div",W,[t("div",J,[t("header",{class:"mb-10 flex items-center justify-between px-2"},[e[2]||(e[2]=t("div",{class:"flex items-center gap-4"},[t("div",{class:"w-1 h-10 bg-indigo-600 rounded-full"}),t("div",null,[t("h1",{class:"text-3xl font-black text-white tracking-tighter uppercase italic leading-none"},"Mix Match"),t("p",{class:"text-gray-500 font-bold uppercase tracking-[0.2em] text-[10px] mt-1"},"Who is the trend?")])],-1)),t("button",{onClick:E,class:"group flex items-center gap-2 text-gray-500 hover:text-white transition-all"},[...e[1]||(e[1]=[t("span",{class:"text-[10px] font-black uppercase tracking-widest"},"Skip Match",-1),t("div",{class:"w-8 h-8 rounded-full border border-gray-800 flex items-center justify-center group-hover:bg-indigo-600 group-hover:border-indigo-600 transition-all"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M13 5l7 7-7 7"})])],-1)])])]),t("div",K,[e[13]||(e[13]=t("div",{class:"absolute inset-0 flex items-center justify-center z-50 pointer-events-none"},[t("div",{class:"relative flex items-center justify-center vs-float"},[t("div",{class:"absolute w-24 h-24 bg-indigo-600/30 blur-[40px] rounded-full animate-pulse"}),t("div",{class:"w-16 h-16 sm:w-20 sm:h-20 bg-white text-black rounded-full flex items-center justify-center font-black text-xl sm:text-2xl italic shadow-[0_0_30px_rgba(255,255,255,0.2)] border-4 border-[#0F1115]"}," VS ")])],-1)),t("div",G,[(r(!0),l(b,null,L(p.value,(o,a)=>(r(),l("div",{key:o.id,class:"relative group overflow-hidden rounded-[2.5rem] bg-[#1A1D23] border border-gray-800 hover:border-indigo-500/50 transition-all duration-500 shadow-2xl"},[t("div",O,[t("div",{id:`player-${a}`,class:"w-full h-full pointer-events-none scale-[1.02]"},null,8,Q),e[6]||(e[6]=t("div",{class:"absolute inset-0 bg-gradient-to-t from-[#1A1D23] via-transparent to-black/20"},null,-1)),t("button",{onClick:v(g=>T(o),["stop"]),class:x(["absolute bottom-20 right-6 w-12 h-12 rounded-full backdrop-blur-md flex items-center justify-center transition-all z-20 shadow-xl border",o.isFavorite?"bg-indigo-600 text-white border-indigo-400":"bg-white/10 text-white/40 border-white/10 hover:bg-white/20"])},[(r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:o.isFavorite?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},[...e[3]||(e[3]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"},null,-1)])],8,Z))],10,X),t("button",{onClick:v(g=>S(a),["stop"]),class:x(["absolute bottom-6 right-6 w-12 h-12 rounded-full backdrop-blur-md flex items-center justify-center transition-all z-20 shadow-xl",u.value[a]?"bg-white/10 text-white/40 border border-white/10":"bg-indigo-600 text-white border border-indigo-400"])},[u.value[a]?(r(),l("svg",et,[...e[4]||(e[4]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 9.75L19.5 12m0 0l2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.5a.75.75 0 01-.75-.75V9.75a.75.75 0 01.75-.75h2.25z"},null,-1)])])):(r(),l("svg",st,[...e[5]||(e[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.5a.75.75 0 01-.75-.75V8.25a.75.75 0 01.75-.75h2.25z"},null,-1)])]))],10,tt)]),t("div",ot,[t("div",lt,[t("span",rt,"Candidate 0"+h(a+1),1),t("div",at,[o.user?(r(),l("div",it,[t("button",{onClick:v(g=>j(g,"match-"+o.id),["stop"]),class:"group/user flex items-center gap-1.5 px-3 py-1.5 bg-white/5 hover:bg-white/10 rounded-full transition-all border border-white/5 hover:border-white/10"},[o.user.profile_photo_url?(r(),l("img",{key:0,src:o.user.profile_photo_url,class:"w-4 h-4 rounded-full object-cover shadow-sm"},null,8,dt)):(r(),l("svg",ct,[...e[7]||(e[7]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"},null,-1),t("circle",{cx:"12",cy:"7",r:"4"},null,-1)])])),t("span",ut,h(o.user.name),1),e[8]||(e[8]=t("svg",{class:"w-2.5 h-2.5 text-gray-600 group-hover/user:text-indigo-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})],-1))],8,nt),c.value==="match-"+o.id?(r(),l("div",{key:0,class:"absolute left-1/2 -translate-x-1/2 mt-2 w-40 bg-[#252932] border border-white/10 rounded-xl shadow-2xl z-[100] py-2 overflow-hidden animate-in fade-in zoom-in-95 duration-200",onClick:e[0]||(e[0]=v(()=>{},["stop"]))},[t("button",{onClick:v(g=>B(o.user.id),["stop"]),class:"flex items-center gap-3 w-full px-4 py-2.5 text-[11px] font-black text-gray-300 hover:bg-indigo-600 hover:text-white transition-all text-left"},[...e[9]||(e[9]=[t("span",null,"ğŸ‘¤",-1),n(" íšŒì›ì •ë³´ ë³´ê¸° ",-1)])],8,pt)])):Y("",!0)])):(r(),l("div",gt,[...e[10]||(e[10]=[t("span",{class:"text-[9px] font-black text-gray-700 uppercase"},"Loading...",-1)])]))]),t("h3",vt,h(o.track_title),1),t("p",ht,h(o.artist_name),1)]),t("button",{onClick:g=>I(o.id),disabled:d.value!==null,class:x(["w-full py-5 rounded-2xl font-black text-sm sm:text-base italic tracking-tighter uppercase transition-all flex items-center justify-center gap-3 relative overflow-hidden",d.value===o.id?"bg-indigo-600/20 text-indigo-400 cursor-not-allowed":"bg-white text-black hover:bg-indigo-600 hover:text-white hover:scale-[1.02] active:scale-95 shadow-xl shadow-black/20"])},[d.value!==o.id?(r(),l(b,{key:0},[e[11]||(e[11]=t("span",null,"Pick This Vibe",-1)),e[12]||(e[12]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"3"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1))],64)):(r(),l("div",ft))],10,wt)])]))),128))])]),e[14]||(e[14]=t("div",{class:"mt-20 border-t border-gray-800/50 pt-16"},[t("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-12"},[t("div",{class:"space-y-4"},[t("h4",{class:"text-indigo-500 font-black text-xs uppercase tracking-[0.2em] italic"},"01. How to Play"),t("p",{class:"text-gray-400 text-[11px] font-bold leading-relaxed uppercase tracking-tighter"},[n(" ìš°ì¸¡ í•˜ë‹¨ì˜ "),t("span",{class:"text-white"},"ìŒì†Œê±° ì•„ì´ì½˜(ğŸ”ˆ)"),n("ì„ í´ë¦­í•˜ì—¬ ê° í›„ë³´ì˜ ì‚¬ìš´ë“œë¥¼ í™œì„±í™”í•˜ì„¸ìš”. ë‘ ê³¡ì„ ì¶©ë¶„íˆ ê°ìƒí•˜ì‹  í›„, ë” íŠ¸ë Œë””í•œ ë¹„íŠ¸ì˜ "),t("span",{class:"text-indigo-500"},"PICK THIS VIBE"),n(" ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”. ")])]),t("div",{class:"space-y-4"},[t("h4",{class:"text-indigo-500 font-black text-xs uppercase tracking-[0.2em] italic"},"02. Save Your Vibe"),t("p",{class:"text-gray-400 text-[11px] font-bold leading-relaxed uppercase tracking-tighter"},[n(" ë°°í‹€ ë„ì¤‘ ë§ˆìŒì— ë“œëŠ” ê³¡ì„ ë°œê²¬í•˜ì…¨ë‚˜ìš”? í•˜ë‹¨ì˜ "),t("span",{class:"text-white"},"í•˜íŠ¸ ì•„ì´ì½˜(â™¥)"),n("ì„ ëˆ„ë¥´ë©´ í•´ë‹¹ ê³¡ì´ ì¦‰ì‹œ "),t("span",{class:"text-indigo-400"},"MY VIBE ë³´ê´€í•¨"),n("ì— ì €ì¥ë˜ì–´ ì–¸ì œë“  ë‹¤ì‹œ ê°ìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ")])]),t("div",{class:"space-y-4"},[t("h4",{class:"text-red-500 font-black text-xs uppercase tracking-[0.2em] italic"},"03. Policy"),t("p",{class:"text-gray-400 text-[11px] font-bold leading-relaxed uppercase tracking-tighter"},[n(" ì‹¤ì‹œê°„ ë­í‚¹ì˜ ê³µì •ì„±ì„ ìœ„í•´ ì¤‘ë³µ íˆ¬í‘œë‚˜ ë§¤í¬ë¡œ ì‚¬ìš©ì€ ì—„ê²©íˆ ê¸ˆì§€ë©ë‹ˆë‹¤. ë¶€ì ì ˆí•œ ë°©ë²•ìœ¼ë¡œ ì ìˆ˜ë¥¼ ì¡°ì‘í•  ê²½ìš° í•´ë‹¹ ê³¡ì€ "),t("span",{class:"text-red-500"},"ì°¨íŠ¸ì—ì„œ ì˜êµ¬ ì œì™¸"),n("ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ")])])])],-1))])])]),_:1})],64))}},yt=R(bt,[["__scopeId","data-v-a021a077"]]);export{yt as default};
