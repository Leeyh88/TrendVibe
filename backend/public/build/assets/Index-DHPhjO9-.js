import{m as A,p as B,g as o,a as v,b as _,h as L,w as k,d as t,o as i,F as y,q as z,t as l,f as g,i as p,e as C,l as $,n as N,s as h,y as I,x as T,N as U}from"./app-DL_rPgRt.js";import{_ as E}from"./AuthenticatedLayout-BtckI5xF.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"py-12 bg-[#F8FAFC] min-h-screen"},P={class:"max-w-6xl mx-auto px-6"},R={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},D={class:"lg:col-span-2 space-y-6"},H={class:"bg-white rounded-[2.5rem] shadow-sm border border-gray-100 overflow-hidden"},G={class:"divide-y divide-gray-50"},W=["onClick"],Y={class:"flex items-center gap-6"},J={class:"w-10 flex-shrink-0 text-center"},K={key:0,class:"text-3xl"},Q={key:1,class:"text-3xl"},X={key:2,class:"text-3xl"},Z={key:3,class:"font-black text-sm text-gray-200 group-hover:text-indigo-300 transition-colors italic"},tt={class:"w-16 h-16 bg-gray-100 rounded-2xl overflow-hidden flex-shrink-0 shadow-sm border border-gray-50"},et=["src"],st={class:"flex-grow min-w-0"},ot={class:"flex items-center gap-2 mb-1"},it={class:"text-[10px] font-black text-indigo-500 uppercase tracking-widest"},lt={class:"text-[10px] font-bold text-gray-400 uppercase tracking-tighter"},nt={class:"text-lg font-black text-gray-900 group-hover:text-indigo-600 transition-colors leading-snug truncate"},at={key:0,class:"ml-1 text-indigo-500 text-xs"},rt={class:"flex items-center gap-2 mt-2 relative"},dt={class:"relative"},ct=["onClick"],ut=["src"],gt={key:1,xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3 text-slate-400 group-hover/user:text-indigo-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},pt={class:"text-[9px] font-black text-slate-500 group-hover/user:text-indigo-600 uppercase tracking-tight"},xt={class:"flex flex-col items-end gap-1 flex-shrink-0"},vt={class:"text-xl font-black text-gray-900 tabular-nums italic"},ht={class:"text-[9px] font-black text-gray-300 uppercase tracking-widest"},bt={key:0,class:"py-24 text-center"},ft={class:"space-y-8"},wt={class:"bg-gray-900 rounded-[2.5rem] p-8 text-white shadow-xl shadow-indigo-100 relative overflow-hidden"},mt={class:"relative z-10"},_t={class:"grid grid-cols-2 gap-4"},kt={class:"text-2xl font-black italic"},yt={class:"text-2xl font-black italic"},Ct={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-4"},Ft={class:"relative w-full max-w-2xl bg-[#0A0A0B] rounded-[3rem] overflow-hidden shadow-2xl animate-in zoom-in duration-300 border border-white/10"},Mt={class:"p-8 pt-12"},jt={class:"flex justify-center mb-6"},St={class:"px-4 py-1.5 bg-indigo-600 text-white text-[10px] font-black rounded-full uppercase tracking-[0.2em] shadow-lg"},Vt={class:"text-center space-y-6"},At={class:"relative aspect-video mx-auto rounded-[1.5rem] overflow-hidden shadow-2xl border border-white/5 bg-black group"},Bt=["src"],Lt={key:1,class:"absolute inset-0 flex flex-col items-center justify-center bg-gray-900 text-center p-6"},zt={class:"pt-2 px-4"},$t={class:"text-2xl sm:text-3xl font-black text-white tracking-tighter leading-tight italic uppercase truncate"},Nt={class:"text-indigo-400 font-bold text-sm uppercase tracking-widest mt-1"},It={class:"mt-10 px-4 mb-4"},Tt={key:0,xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},Ut={key:1,xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},Et={__name:"Index",props:{rankings:Array,currentSort:String,stats:Object,auth:Object},setup(r){const F=r,u=h(null),M=(n,e)=>{n.stopPropagation(),u.value=u.value===e?null:e,console.log("ë©”ë‰´ í† ê¸€ë¨:",e,"í˜„ì¬ ìƒíƒœ:",u.value)},b=()=>{u.value=null};A(()=>{window.addEventListener("click",b)}),B(()=>{window.removeEventListener("click",b)});const a=h(null),x=h(!1),f=n=>{if(!n)return"";const e=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,s=n.match(e);return s&&s[2].length===11?s[2]:""},j=n=>{const e=f(n.youtube_url);a.value={id:n.id,youtube_video_id:e,title:n.title,artist:n.user?.name||n.music_track?.artist||"Unknown Artist",thumbnail:`https://img.youtube.com/vi/${e}/mqdefault.jpg`,platform:"Remix Chart",isFavorite:n.isFavorite,type:"remix"},x.value=!0},w=()=>{x.value=!1,a.value=null},S=()=>{if(!U().props.auth.user){confirm("ë¡œê·¸ì¸ì´ í•„ìš”í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤. ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")&&I.get(route("login"));return}const e=a.value,c=!e.isFavorite?`[${e.title}] ê³¡ì„ ë³´ê´€í•¨ì— ì¶”ê°€í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`:`[${e.title}] ê³¡ì„ ë³´ê´€í•¨ì—ì„œ ì œê±°í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`;confirm(c)&&T.post("/favorites/toggle",{track_id:String(e.id),type:"remix",title:e.title,thumbnail:e.thumbnail}).then(d=>{e.isFavorite=d.data.isFavorite;const m=F.rankings.find(V=>V.id===e.id);m&&(m.isFavorite=d.data.isFavorite)}).catch(d=>{console.error("ê´€ì‹¬ê³¡ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜:",d),alert("ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.")})};return(n,e)=>(i(),o(y,null,[v(_(L),{title:"ìˆœìœ„"}),v(E,null,{default:k(()=>[t("div",O,[t("div",P,[e[11]||(e[11]=t("header",{class:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6"},[t("div",null,[t("div",{class:"flex items-center gap-2 mb-2"},[t("span",{class:"px-2 py-0.5 bg-indigo-600 text-white text-[10px] font-black rounded uppercase"},"Live Updates")]),t("h1",{class:"text-4xl font-black text-gray-900 tracking-tighter uppercase italic"},"Live Vibe Chart"),t("p",{class:"text-gray-400 font-bold mt-1 uppercase tracking-widest text-[10px]"},"The Survivors of Mix Match Duel.")])],-1)),t("div",R,[t("div",D,[t("div",H,[t("div",G,[(i(!0),o(y,null,z(r.rankings,(s,c)=>(i(),o("div",{key:s.id,onClick:d=>j(s),class:"p-6 hover:bg-indigo-50/20 transition-all group cursor-pointer"},[t("div",Y,[t("div",J,[c===0?(i(),o("span",K,"ğŸ¥‡")):c===1?(i(),o("span",Q,"ğŸ¥ˆ")):c===2?(i(),o("span",X,"ğŸ¥‰")):(i(),o("span",Z,"#"+l(c+1),1))]),t("div",tt,[t("img",{src:`https://img.youtube.com/vi/${f(s.youtube_url)}/mqdefault.jpg`,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"},null,8,et)]),t("div",st,[t("div",ot,[t("span",it,l(s.genre?.name),1),e[1]||(e[1]=t("span",{class:"w-1 h-1 bg-gray-200 rounded-full"},null,-1)),t("span",lt,l(s.artist_name)+" - "+l(s.track_title),1)]),t("h4",nt,[g(l(s.title)+" ",1),s.isFavorite?(i(),o("span",at,"â™¥")):p("",!0)]),t("div",rt,[t("div",dt,[t("button",{onClick:C(d=>M(d,"ranking-"+s.id),["stop"]),class:"group/user flex items-center gap-1.5 px-2 py-0.5 bg-slate-50 hover:bg-indigo-50 rounded-lg transition-all border border-slate-100 hover:border-indigo-100"},[s.user?.profile_photo_url?(i(),o("img",{key:0,src:s.user.profile_photo_url,class:"w-3.5 h-3.5 rounded-full object-cover"},null,8,ut)):(i(),o("svg",gt,[...e[2]||(e[2]=[t("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"},null,-1),t("circle",{cx:"12",cy:"7",r:"4"},null,-1)])])),t("span",pt,l(s.user?.name||"Unknown"),1),e[3]||(e[3]=t("svg",{class:"w-2 h-2 text-slate-300 group-hover/user:text-indigo-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})],-1))],8,ct),u.value==="ranking-"+s.id?(i(),o("div",{key:0,class:"absolute left-0 mt-2 w-40 bg-white border border-gray-100 rounded-xl shadow-2xl z-[100] py-1.5 overflow-hidden animate-in fade-in zoom-in-95 duration-200",onClick:e[0]||(e[0]=C(()=>{},["stop"]))},[v(_($),{href:`/public-profile/${s.user?.id}`,class:"flex items-center gap-2.5 px-3 py-2 text-[10px] font-black text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-all"},{default:k(()=>[...e[4]||(e[4]=[t("span",null,"ğŸ‘¤",-1),g(" íšŒì›ì •ë³´ ë³´ê¸° ",-1)])]),_:1},8,["href"])])):p("",!0)])])]),t("div",xt,[t("span",vt,l((r.currentSort==="views"?s.view_count:s.vote_count).toLocaleString()),1),t("span",ht,l(r.currentSort==="views"?"Views":"Wins"),1)])])],8,W))),128)),r.rankings.length===0?(i(),o("div",bt,[...e[5]||(e[5]=[t("p",{class:"text-gray-300 font-black uppercase tracking-widest"},"No Rankings Available",-1)])])):p("",!0)])])]),t("aside",ft,[t("div",wt,[t("div",mt,[e[8]||(e[8]=t("h3",{class:"font-black text-xs uppercase tracking-[0.2em] text-indigo-400 mb-6"},"Ranking Stats",-1)),t("div",_t,[t("div",null,[e[6]||(e[6]=t("p",{class:"text-[9px] font-bold text-white/40 uppercase mb-1"},"Total Votes",-1)),t("p",kt,l(r.stats.total_points),1)]),t("div",null,[e[7]||(e[7]=t("p",{class:"text-[9px] font-bold text-white/40 uppercase mb-1"},"Total Mixes",-1)),t("p",yt,l(r.stats.total_remixes),1)])])]),e[9]||(e[9]=t("div",{class:"absolute -right-10 -bottom-10 w-32 h-32 bg-indigo-600 rounded-full blur-[60px] opacity-20"},null,-1))]),e[10]||(e[10]=t("div",{class:"bg-white rounded-[2.5rem] p-8 border border-gray-100 shadow-sm"},[t("h3",{class:"font-black text-gray-900 text-[10px] uppercase tracking-widest mb-6 border-b pb-4 italic"},"Chart Guidelines"),t("ul",{class:"space-y-5 text-[11px] font-bold text-gray-500 uppercase leading-relaxed"},[t("li",{class:"flex gap-3 items-start"},[t("span",{class:"text-indigo-600"},"â—"),g(" ìˆœìœ„ëŠ” ë¯¹ìŠ¤ë§¤ì¹˜ ë°°í‹€ ìŠ¹ë¦¬ ì ìˆ˜ë¡œ ê²°ì •ë©ë‹ˆë‹¤.")]),t("li",{class:"flex gap-3 items-start"},[t("span",{class:"text-indigo-600"},"â—"),g(" ëª¨ë“  ëŒ€ê²°ì€ ì‹œìŠ¤í…œ ëœë¤ ë§¤ì¹­ìœ¼ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.")])])],-1))])])])]),x.value?(i(),o("div",Ct,[t("div",{class:"absolute inset-0 bg-black/90 backdrop-blur-md",onClick:w}),t("div",Ft,[t("button",{onClick:w,class:"absolute top-6 right-8 z-10 text-white/50 hover:text-white transition-all"},[...e[12]||(e[12]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])]),t("div",Mt,[t("div",jt,[t("span",St,l(a.value?.platform)+" Trending ",1)]),t("div",Vt,[t("div",At,[a.value?.youtube_video_id?(i(),o("iframe",{key:a.value.youtube_video_id,src:`https://www.youtube.com/embed/${a.value.youtube_video_id}?autoplay=1&modestbranding=1&rel=0`,class:"w-full h-full",frameborder:"0",allow:"autoplay; encrypted-media; picture-in-picture",allowfullscreen:""},null,8,Bt)):(i(),o("div",Lt,[...e[13]||(e[13]=[t("p",{class:"text-white/40 text-[10px] font-black uppercase tracking-widest"},"No Video Preview Found",-1)])]))]),t("div",zt,[t("h3",$t,l(a.value?.title),1),t("p",Nt,l(a.value?.artist),1)])]),t("div",It,[t("button",{onClick:S,class:N(["w-full py-5 rounded-2xl font-black text-sm uppercase tracking-widest transition-all text-center flex items-center justify-center gap-2 shadow-xl",a.value?.isFavorite?"bg-indigo-600 text-white shadow-indigo-500/20":"bg-white text-black hover:bg-gray-100"])},[a.value?.isFavorite?(i(),o("svg",Ut,[...e[15]||(e[15]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])):(i(),o("svg",Tt,[...e[14]||(e[14]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"},null,-1)])])),g(" "+l(a.value?.isFavorite?"Saved in My Vibe":"Add to Favorites"),1)],2)])])])])):p("",!0)]),_:1})],64))}},Rt=q(Et,[["__scopeId","data-v-f702291c"]]);export{Rt as default};
