import{m as D,L as P,g as s,a as g,b as V,h as A,w,d as e,o as r,F as v,q as f,n as x,t as n,i as k,R as E,f as T,l as I,T as L,s as p,k as z,y as K,x as G,N as H}from"./app-DL_rPgRt.js";import{_ as R}from"./AuthenticatedLayout-BtckI5xF.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"py-12 bg-[#F8FAFC] min-h-screen font-sans"},J={class:"max-w-6xl mx-auto px-6"},Q={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},U={class:"lg:col-span-2 space-y-6"},W={class:"bg-white rounded-[2.5rem] shadow-sm border border-gray-100 overflow-hidden"},X={class:"p-2 flex items-center gap-1 overflow-x-auto no-scrollbar border-b border-gray-50"},Z=["onClick"],ee={key:0,class:"px-6 py-4 flex items-center gap-3 overflow-x-auto no-scrollbar"},te=["onClick"],oe={class:"grid grid-cols-1 gap-6"},ae={key:0,class:"bg-white rounded-[2.5rem] p-8 shadow-sm border border-gray-100 group transition-all hover:shadow-xl hover:shadow-indigo-50/50"},le={class:"flex items-center justify-between mb-8"},se={class:"flex items-center gap-4"},re={class:"text-2xl font-black text-gray-900 tracking-tight leading-none italic uppercase"},ie={class:"divide-y divide-gray-50"},ne=["onClick"],ue={class:"text-2xl font-black italic text-gray-100 group-hover/item:text-indigo-600 transition-colors w-8 text-center"},de={class:"w-12 h-12 rounded-lg bg-gray-100 flex-shrink-0 overflow-hidden shadow-inner"},ce=["src"],ve={key:1,class:"w-full h-full flex items-center justify-center text-gray-300"},pe={class:"flex-grow min-w-0"},be={class:"font-black text-gray-900 leading-tight truncate group-hover/item:text-indigo-600 transition-colors uppercase italic"},ge={class:"text-[11px] text-gray-400 font-bold uppercase mt-0.5"},fe={class:"space-y-8"},xe={class:"bg-gray-900 rounded-[2.5rem] p-8 text-white shadow-xl relative overflow-hidden"},he={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-4"},_e={class:"relative bg-[#1A1D23] w-full max-w-lg rounded-[2.5rem] overflow-hidden shadow-2xl border border-white/10"},me={class:"p-8 pt-12 text-center"},ye={class:"px-4 py-1.5 bg-indigo-600 text-white text-[10px] font-black rounded-full uppercase tracking-widest mb-6 inline-block"},we={class:"aspect-video bg-black rounded-[1.5rem] overflow-hidden mb-6 shadow-2xl border border-white/5 relative"},ke=["src"],Te={key:1,class:"w-full h-full flex flex-col items-center justify-center p-6 bg-gradient-to-br from-gray-800 to-gray-900"},Ce=["href"],Fe={class:"text-2xl font-black text-white italic uppercase truncate"},Me={class:"text-indigo-400 font-bold text-sm uppercase tracking-widest mt-1"},Ve={__name:"Index",props:{charts:{type:Object,default:()=>({})}},setup(S){const B=S,u=p(null),i=p(null),h=p(!1),b=p(!0),Y=()=>{if(!window.YT){const a=document.createElement("script");a.src="https://www.youtube.com/iframe_api";const o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(a,o)}};D(()=>{Y()});const C=a=>{if(!window.YT||!window.YT.Player){setTimeout(()=>C(a),100);return}const o="modal-youtube-player";if(document.getElementById(o)){if(u.value&&u.value.destroy)try{u.value.destroy()}catch(t){console.error(t)}u.value=new window.YT.Player(o,{videoId:a,playerVars:{autoplay:1,controls:1,modestbranding:1,rel:0,playsinline:1},events:{onReady:t=>{b.value=!1,t.target.playVideo()},onError:()=>{b.value=!1}}})}},$=(a,o)=>{i.value={...a,platform:o,youtube_video_id:o==="YouTube"?a.external_id:null},h.value=!0,b.value=!0,i.value.youtube_video_id?setTimeout(()=>C(i.value.youtube_video_id),500):b.value=!1},F=()=>{h.value=!1,u.value&&u.value.stopVideo&&u.value.stopVideo(),setTimeout(()=>{i.value=null,u.value&&u.value.destroy&&(u.value.destroy(),u.value=null)},300)},d=p("all"),c=p("youtube_kr_songs"),_=[{name:"All Trends",value:"all",color:"bg-gray-900",icon:"M",brandColor:"#6366f1"},{name:"YouTube",value:"youtube",color:"bg-[#FF0000]",brandColor:"#FF0000",icon:"Y"},{name:"Spotify",value:"spotify",color:"bg-[#1DB954]",brandColor:"#1DB954",icon:"S"},{name:"SoundCloud",value:"soundcloud",color:"bg-[#FF5500]",brandColor:"#FF5500",icon:"C"}],m={all:[{name:"전체 보기",value:""}],youtube:[{name:"국내 음악 Top 10",value:"youtube_kr_songs"},{name:"국내 영상 Top 10",value:"youtube_kr_trend"},{name:"미국 음악 Top 10",value:"youtube_us_songs"},{name:"미국 영상 Top 10",value:"youtube_us_trend"}],spotify:[{name:"국내 Top 10",value:"Korea"},{name:"글로벌 Top 10",value:"Global"}],soundcloud:[{name:"New & Hot",value:"soundcloud"}]};P(d,a=>{a==="all"?c.value="":a==="youtube"?c.value="youtube_kr_songs":a==="spotify"?c.value="Korea":c.value=m[a][0].value});const M=z(()=>{const a={...B.charts};let o=c.value;return d.value==="spotify"&&(o=`spotify_${c.value}`),a.active_list=a[o]||[],_.forEach(t=>{if(t.value!=="all"){let l=t.value;t.value==="youtube"&&(l="youtube_kr_songs"),t.value==="spotify"&&(l="spotify_Global");const y=a[l]||a[t.value]||[];a[t.value]=y.length>0?y:[{rank:1,title:"데이터 준비 중",artist:""}]}}),a}),j=a=>{d.value=a},N=()=>{if(!H().props.auth.user){confirm("로그인이 필요한 기능입니다.")&&K.get(route("login"));return}const o=i.value;G.post("/favorites/toggle",{track_id:o.external_id,type:o.platform.toLowerCase(),title:o.title,thumbnail:o.album_cover_url}).then(t=>{o.isFavorite=t.data.isFavorite}).catch(t=>console.error(t))};return(a,o)=>(r(),s(v,null,[g(V(A),{title:"핫트렌드"}),g(R,null,{default:w(()=>[e("div",O,[e("div",J,[o[4]||(o[4]=e("header",{class:"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6"},[e("div",null,[e("div",{class:"flex items-center gap-2 mb-2"},[e("span",{class:"px-2 py-0.5 bg-indigo-600 text-white text-[10px] font-black rounded uppercase tracking-wider"},"Trend Hunter")]),e("h1",{class:"text-4xl font-black text-gray-900 tracking-tighter uppercase italic"},"Hot Trends")])],-1)),e("div",Q,[e("div",U,[e("div",W,[e("div",X,[(r(),s(v,null,f(_,t=>e("button",{key:t.value,onClick:l=>j(t.value),class:x(["px-5 py-2.5 rounded-2xl text-[10px] sm:text-xs font-black transition-all uppercase",[d.value===t.value?`${t.color} text-white shadow-lg`:"text-gray-400 hover:bg-gray-50"]])},n(t.name),11,Z)),64))]),d.value!=="all"?(r(),s("div",ee,[(r(!0),s(v,null,f(m[d.value],t=>(r(),s("button",{key:t.value,onClick:l=>c.value=t.value,class:x(["text-[11px] font-black uppercase tracking-widest transition-all",c.value===t.value?"text-indigo-600":"text-gray-300 hover:text-gray-500"])}," # "+n(t.name),11,te))),128))])):k("",!0)]),e("div",oe,[(r(!0),s(v,null,f(_.filter(t=>t.value!=="all"),t=>(r(),s(v,{key:t.value},[d.value==="all"||d.value===t.value?(r(),s("div",ae,[e("div",le,[e("div",se,[e("div",{class:x([t.color,"w-12 h-12 rounded-2xl flex items-center justify-center text-white shadow-xl font-black italic text-xl"])},n(t.icon),3),e("div",null,[e("h2",re,n(t.name),1),e("span",{class:"text-[10px] font-black uppercase tracking-widest mt-1 block italic opacity-70",style:E({color:t.brandColor})},n(d.value==="all"?"Top 10":m[d.value].find(l=>l.value===c.value)?.name),5)])])]),e("div",ie,[(r(!0),s(v,null,f(d.value===t.value?M.value.active_list:M.value[t.value],l=>(r(),s("div",{key:l.id,onClick:y=>$(l,t.name),class:"flex items-center gap-6 py-4 hover:bg-indigo-50/20 transition-all rounded-2xl px-4 -mx-4 group/item cursor-pointer"},[e("span",ue,n(l.rank),1),e("div",de,[l.album_cover_url?(r(),s("img",{key:0,src:l.album_cover_url,class:"w-full h-full object-cover"},null,8,ce)):(r(),s("div",ve,[...o[0]||(o[0]=[e("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})],-1)])]))]),e("div",pe,[e("h4",be,n(l.title),1),e("p",ge,n(l.artist),1)])],8,ne))),128))])])):k("",!0)],64))),128))])]),e("aside",fe,[e("div",xe,[o[2]||(o[2]=e("h3",{class:"font-black text-xs uppercase tracking-[0.2em] text-indigo-400 mb-6 italic"},"Mixer's Lab",-1)),o[3]||(o[3]=e("p",{class:"text-sm font-black leading-snug mb-6 uppercase"},[T("Found your material?"),e("br"),T("Add it to battle now.")],-1)),g(V(I),{href:a.route("remixes.index"),class:"inline-flex items-center text-[10px] font-black uppercase tracking-widest border-b-2 border-indigo-500 pb-1 hover:text-indigo-400 transition-colors"},{default:w(()=>[...o[1]||(o[1]=[T(" Go to Remixes → ",-1)])]),_:1},8,["href"])])])])])])]),_:1}),g(L,{name:"modal"},{default:w(()=>[h.value?(r(),s("div",he,[e("div",{class:"absolute inset-0 bg-gray-900/95 backdrop-blur-md",onClick:F}),e("div",_e,[e("button",{onClick:F,class:"absolute top-6 right-6 text-white/40 hover:text-white z-20"},[...o[5]||(o[5]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),e("div",me,[e("span",ye,n(i.value?.platform)+" Trending ",1),e("div",we,[i.value?.platform==="YouTube"?(r(),s("iframe",{key:0,src:`https://www.youtube.com/embed/${i.value.external_id}?autoplay=1`,class:"w-full h-full",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:""},null,8,ke)):(r(),s("div",Te,[o[6]||(o[6]=e("p",{class:"text-white font-black uppercase tracking-tighter mb-4 italic"},"No Direct Video Preview",-1)),e("a",{href:`https://www.youtube.com/results?search_query=${i.value?.artist} ${i.value?.title}`,target:"_blank",class:"px-6 py-3 bg-white/10 rounded-2xl text-[10px] font-black text-white uppercase hover:bg-white/20 border border-white/10 transition-all"}," Search on YouTube → ",8,Ce)]))]),e("h3",Fe,n(i.value?.title),1),e("p",Me,n(i.value?.artist),1),e("button",{onClick:N,class:x(["mt-8 w-full py-5 rounded-2xl font-black text-sm uppercase tracking-widest transition-all",i.value?.isFavorite?"bg-indigo-600 text-white shadow-lg":"bg-white/5 text-white border border-white/10 hover:bg-white/10"])},n(i.value?.isFavorite?"Saved in My Vibe":"Add to Favorites"),3)])])])):k("",!0)]),_:1})],64))}},$e=q(Ve,[["__scopeId","data-v-c60c616d"]]);export{$e as default};
