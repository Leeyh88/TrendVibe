import{m as G,p as J,u as S,g as n,a as f,b as d,h as K,w as y,d as t,l as C,f as c,t as i,e as v,o as l,i as g,n as w,F as _,j as F,A as z,q as D,s as B,y as k,x as Q,k as L,N as P}from"./app-DL_rPgRt.js";import{_ as W}from"./AuthenticatedLayout-BtckI5xF.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={class:"py-12 bg-[#F8FAFC] min-h-screen"},Z={class:"max-w-4xl mx-auto px-6"},tt={class:"mb-8 flex items-center justify-between px-2"},et={class:"bg-white rounded-[2.5rem] shadow-sm border border-gray-100 overflow-hidden mb-8"},st={class:"p-8 lg:p-12 border-b border-gray-50"},ot={class:"flex items-center gap-3 mb-6"},it={class:"px-3 py-1 bg-indigo-600 text-white rounded-lg text-[10px] font-black uppercase tracking-widest"},rt={class:"text-gray-300 text-[11px] font-bold uppercase tracking-tighter italic"},nt={class:"text-3xl lg:text-5xl font-black text-gray-900 mb-10 leading-[1.15] tracking-tight"},lt={class:"flex items-center justify-between pt-8 border-t border-gray-50"},at={class:"flex items-center gap-4 relative"},dt={class:"w-14 h-14 bg-gray-900 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-gray-200 overflow-hidden group-hover/user:scale-105 transition-transform duration-300"},ct=["src"],ut={key:1,xmlns:"http://www.w3.org/2000/svg",class:"w-8 h-8 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},gt={class:"flex items-center gap-1.5 mb-1"},pt={class:"text-lg font-black text-gray-900 tracking-tight leading-none group-hover/user:text-indigo-600 transition-colors"},xt={class:"text-right"},bt={class:"block text-2xl font-black text-gray-900 leading-none mb-1 tabular-nums"},ht={key:0,class:"mb-12"},mt={class:"bg-gray-900 rounded-[2.5rem] overflow-hidden shadow-2xl shadow-indigo-100 border border-gray-800"},ft={class:"relative aspect-video w-full bg-black"},vt=["src"],wt={class:"p-6 sm:p-8 flex items-center justify-between bg-gradient-to-r from-gray-900 via-gray-800 to-indigo-950"},kt={class:"flex items-center gap-5"},yt={class:"relative flex-shrink-0"},_t=["src"],Ct={class:"min-w-0"},Mt={class:"flex items-center gap-2 mb-1"},jt={class:"px-2 py-0.5 bg-indigo-500/20 text-indigo-400 text-[9px] font-black rounded uppercase tracking-widest border border-indigo-500/30"},St={class:"text-white font-black text-lg truncate leading-tight"},Ft={class:"text-gray-400 text-[11px] font-bold uppercase tracking-tight truncate"},zt={class:"p-8 lg:p-14"},Dt=["innerHTML"],Bt={class:"px-8 py-10 bg-[#FBFBFF] border-t border-gray-50 flex flex-col items-center"},Lt={class:"text-center"},Pt={class:"flex items-center gap-8 mt-6"},Tt={class:"bg-white rounded-[2.5rem] shadow-sm border border-gray-100 p-8 lg:p-12"},$t={class:"text-xl font-black text-gray-900 mb-10 italic uppercase tracking-tighter flex items-center gap-3"},Vt={class:"text-indigo-600 tabular-nums"},Nt=["disabled"],Et={class:"space-y-12"},Rt={class:"flex gap-6"},At={class:"w-12 h-12 bg-indigo-50 rounded-2xl flex-shrink-0 flex items-center justify-center font-black text-indigo-400 text-lg italic border border-indigo-100 shadow-sm"},It={class:"flex-1 min-w-0"},Ut={class:"flex items-center justify-between mb-3"},qt={class:"flex items-center gap-3"},Ht={class:"font-black text-gray-900 text-[13px] tracking-tight"},Ot={class:"text-[9px] text-gray-300 font-bold uppercase tracking-widest"},Gt={class:"flex items-center gap-4"},Jt=["onClick"],Kt=["onClick"],Qt={class:"bg-gray-50/50 rounded-3xl rounded-tl-none p-6 text-gray-700 text-[15px] font-medium leading-relaxed shadow-sm border border-gray-100/50"},Wt={key:0,class:"mt-6 ml-4"},Xt=["onSubmit"],Yt={key:1,class:"mt-8 space-y-6 ml-4 pl-6 border-l-2 border-indigo-50"},Zt={class:"flex items-center justify-between mb-2"},te={class:"flex items-center gap-3"},ee={class:"w-7 h-7 bg-white border border-indigo-100 rounded-xl flex items-center justify-center font-black text-indigo-500 text-[10px] italic"},se={class:"font-black text-gray-900 text-xs tracking-tight"},oe={class:"text-[8px] text-gray-300 font-bold uppercase tracking-widest"},ie=["onClick"],re={class:"bg-indigo-50/20 rounded-2xl rounded-tl-none p-4 text-gray-700 text-[13px] font-medium leading-relaxed border border-indigo-100/30"},ne={class:"mt-12 text-center p-10 bg-indigo-900 rounded-[2.5rem] shadow-2xl relative overflow-hidden group"},le={class:"relative z-10"},ae={__name:"Show",props:{post:Object},setup(s){const u=s,h=B(null),T=(r,e)=>{r.stopPropagation(),r.preventDefault(),h.value=h.value===e?null:e,console.log("í† ê¸€ëœ ë©”ë‰´ ID:",e)},$=r=>{h.value=null,k.visit(`/public-profile/${r}`)},M=()=>{h.value=null};G(()=>{window.addEventListener("click",M)}),J(()=>{window.removeEventListener("click",M)});const V=()=>{if(!P().props.auth.user){confirm("ë¡œê·¸ì¸ì´ í•„ìš”í•œ ê¸°ëŠ¥ìž…ë‹ˆë‹¤. ë¡œê·¸ì¸ íŽ˜ì´ì§€ë¡œ ì´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ??")&&k.get(route("login"));return}const e=u.post.remix;Q.post("/favorites/toggle",{track_id:String(e.id),type:"remix",title:e.title,thumbnail:e.album_cover_url}).then(o=>{e.isFavorite=o.data.isFavorite}).catch(o=>{console.error("ì˜¤ë¥˜ ë°œìƒ:",o)})},N=P(),p=L(()=>N.props.auth.user),E=L(()=>p.value&&p.value.id===u.post.user_id),x=S({content:""}),m=S({content:"",parent_id:null}),b=B(null),R=()=>{x.post(route("posts.comments.store",u.post.id),{preserveScroll:!0,onSuccess:()=>x.reset()})},j=r=>{confirm("ëŒ“ê¸€ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")&&k.delete(route("comments.destroy",r),{preserveScroll:!0})},A=()=>{confirm("ì •ë§ë¡œ ì´ ê²Œì‹œê¸€ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")&&k.delete(route("posts.destroy",u.post.id))},I=()=>{navigator.share?navigator.share({title:u.post.title,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("ì£¼ì†Œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤."))},U=r=>{b.value=b.value===r?null:r,m.parent_id=b.value},q=r=>{m.post(route("posts.comments.store",u.post.id),{preserveScroll:!0,onSuccess:()=>{b.value=null,m.reset()}})},H=()=>{k.post(route("posts.like",u.post.id),{},{preserveScroll:!0})},O=r=>({general:"ìžìœ ",recommend:"ì¶”ì²œ",question:"ì§ˆë¬¸"})[r]||r;return(r,e)=>(l(),n(_,null,[f(d(K),{title:s.post.title},null,8,["title"]),f(W,null,{default:y(()=>[t("div",Y,[t("div",Z,[t("header",tt,[e[6]||(e[6]=t("div",{class:"flex items-center gap-3"},[t("div",{class:"w-1 h-8 bg-indigo-600 rounded-full"}),t("div",null,[t("h1",{class:"text-2xl font-black text-gray-900 tracking-tighter uppercase italic"},"Read Story"),t("p",{class:"text-[10px] text-gray-400 font-bold uppercase tracking-widest"},"Inspiration Mix")])],-1)),f(d(C),{href:r.route("posts.index"),class:"px-5 py-2.5 bg-white border border-gray-100 rounded-2xl text-[10px] font-black text-gray-400 hover:text-indigo-600 hover:border-indigo-100 shadow-sm transition-all uppercase tracking-widest group"},{default:y(()=>[...e[5]||(e[5]=[t("span",{class:"flex items-center gap-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 group-hover:-translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})]),c(" Back to Feed ")],-1)])]),_:1},8,["href"])]),t("article",et,[t("div",st,[t("div",ot,[t("span",it,i(O(s.post.category)),1),t("span",rt," Published "+i(new Date(s.post.created_at).toLocaleDateString()),1)]),t("h1",nt,i(s.post.title),1),t("div",lt,[t("div",at,[t("button",{onClick:e[0]||(e[0]=v(o=>T(o,"detail-"+s.post.user.id),["stop"])),class:"flex items-center gap-4 group/user text-left outline-none"},[t("div",dt,[s.post.user.profile_photo_url?(l(),n("img",{key:0,src:s.post.user.profile_photo_url,class:"w-full h-full object-cover"},null,8,ct)):(l(),n("svg",ut,[...e[7]||(e[7]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"},null,-1)])]))]),t("div",null,[t("div",gt,[t("p",pt,i(s.post.user.name),1),e[8]||(e[8]=t("svg",{class:"w-4 h-4 text-gray-300 group-hover/user:text-indigo-400 transition-colors",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"})],-1))]),e[9]||(e[9]=t("p",{class:"text-[10px] text-indigo-500 font-black uppercase tracking-widest"},"Mixer Pro",-1))])]),h.value==="detail-"+s.post.user.id?(l(),n("div",{key:0,class:"absolute left-0 top-full mt-3 w-44 bg-white border border-gray-100 rounded-2xl shadow-2xl z-[50] py-2 overflow-hidden animate-in fade-in zoom-in-95 duration-200",onClick:e[2]||(e[2]=v(()=>{},["stop"]))},[t("button",{onClick:e[1]||(e[1]=v(o=>$(s.post.user.id),["stop"])),class:"flex items-center gap-3 w-full px-4 py-2.5 text-[11px] font-black text-gray-700 hover:bg-indigo-50 hover:text-indigo-600 transition-all text-left"},[...e[10]||(e[10]=[t("span",{class:"text-sm"},"ðŸ‘¤",-1),c(" íšŒì›ì •ë³´ ë³´ê¸° ",-1)])]),e[11]||(e[11]=t("div",{class:"h-[1px] bg-gray-50 mx-2 my-1"},null,-1)),e[12]||(e[12]=t("button",{class:"flex items-center gap-3 w-full px-4 py-2.5 text-[11px] font-black text-gray-300 cursor-not-allowed text-left border-none outline-none"},[t("span",{class:"text-sm"},"ðŸ””"),c(" íŒ”ë¡œìš° (ì¤€ë¹„ì¤‘) ")],-1))])):g("",!0)]),e[14]||(e[14]=c()),t("div",xt,[t("span",bt,i(s.post.view_count||0),1),e[13]||(e[13]=t("span",{class:"text-[9px] font-black text-gray-300 uppercase tracking-[0.2em]"},"Total Views",-1))])])]),s.post.category==="recommend"&&s.post.remix?(l(),n("div",ht,[t("div",mt,[t("div",ft,[t("iframe",{src:`https://www.youtube.com/embed/${s.post.remix.youtube_video_id}?rel=0`,class:"absolute inset-0 w-full h-full",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,vt)]),t("div",wt,[t("div",kt,[t("div",yt,[t("img",{src:s.post.remix.album_cover_url,class:"w-16 h-16 rounded-2xl object-cover border border-white/10 shadow-2xl"},null,8,_t),e[15]||(e[15]=t("div",{class:"absolute -top-2 -right-2 w-6 h-6 bg-indigo-600 rounded-full flex items-center justify-center border-2 border-gray-900"},[t("svg",{class:"w-3 h-3 text-white fill-current",viewBox:"0 0 24 24"},[t("path",{d:"M8 5v14l11-7z"})])],-1))]),t("div",Ct,[t("div",Mt,[t("span",jt,i(s.post.remix.user.name),1)]),t("h3",St,i(s.post.remix.title),1),t("p",Ft,i(s.post.remix.artist_name)+" â€” "+i(s.post.remix.track_title),1)])]),t("button",{onClick:V,class:w(["flex items-center justify-center w-12 h-12 rounded-2xl border transition-all group",s.post.remix.isFavorite?"bg-indigo-600 border-indigo-500 shadow-lg shadow-indigo-500/20":"bg-white/5 border-white/10 hover:bg-white/10"])},[(l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:w(["h-5 w-5 transition-all duration-300",s.post.remix.isFavorite?"text-white fill-current scale-110":"text-gray-400 group-hover:text-white"]),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[...e[16]||(e[16]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"},null,-1)])],2))],2)])]),e[17]||(e[17]=t("div",{class:"mt-12 flex items-center gap-4"},[t("div",{class:"flex-grow h-px bg-gray-100"}),t("span",{class:"text-[10px] font-black text-gray-300 uppercase tracking-[0.3em]"},"Story Content"),t("div",{class:"flex-grow h-px bg-gray-100"})],-1))])):g("",!0),t("div",zt,[t("div",{class:"prose max-w-none text-gray-700 leading-[1.9] text-lg whitespace-pre-wrap font-medium",innerHTML:s.post.content},null,8,Dt)]),t("div",Bt,[t("button",{onClick:H,class:"group flex flex-col items-center gap-4 transition-all active:scale-95 mb-4"},[t("div",{class:w([s.post.is_liked?"bg-indigo-600 border-indigo-400 shadow-indigo-200 scale-110":"bg-white border-gray-100 text-gray-300 hover:border-indigo-200 hover:text-indigo-400","w-24 h-24 rounded-[2.5rem] border-2 flex items-center justify-center shadow-xl transition-all duration-500"])},[(l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:w([s.post.is_liked?"fill-white":"fill-none","h-10 w-10 stroke-current stroke-2"]),viewBox:"0 0 24 24"},[...e[18]||(e[18]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)])],2))],2),t("div",Lt,[t("span",{class:w([s.post.is_liked?"text-indigo-600":"text-gray-400","text-2xl font-black italic tracking-tighter tabular-nums"])},i(s.post.likes_count||0),3),e[19]||(e[19]=t("p",{class:"text-[10px] font-black text-gray-300 uppercase tracking-widest mt-1"},"Likes for this story",-1))])]),t("div",Pt,[E.value?(l(),n(_,{key:0},[f(d(C),{href:r.route("posts.edit",s.post.id),class:"text-[11px] font-black text-gray-400 hover:text-indigo-600 uppercase tracking-widest border-b border-transparent hover:border-indigo-600 transition-all"},{default:y(()=>[...e[20]||(e[20]=[c("Edit Post",-1)])]),_:1},8,["href"]),t("button",{onClick:A,class:"text-[11px] font-black text-red-300 hover:text-red-500 uppercase tracking-widest border-b border-transparent hover:border-red-500 transition-all"},"Delete Post")],64)):g("",!0),t("button",{onClick:I,class:"flex items-center gap-2 px-6 py-3 bg-white border border-gray-100 rounded-2xl text-[11px] font-black text-gray-500 hover:text-indigo-600 shadow-sm transition-all active:scale-95 uppercase tracking-widest"},[...e[21]||(e[21]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2.5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})],-1),c(" Share Mix ",-1)])])])])]),t("section",Tt,[t("h3",$t,[e[22]||(e[22]=t("span",{class:"w-2 h-2 bg-indigo-600 rounded-full animate-pulse"},null,-1)),e[23]||(e[23]=c(" Discussions ",-1)),t("span",Vt,i(s.post.comments?.length||0),1)]),t("form",{onSubmit:v(R,["prevent"]),class:"mb-14 relative group"},[F(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=o=>d(x).content=o),placeholder:"Share your vibe on this story...",class:"w-full border-gray-50 rounded-[2rem] p-8 pr-28 focus:ring-2 focus:ring-indigo-500 focus:border-transparent min-h-[160px] transition-all bg-gray-50/50 resize-none font-bold text-gray-700 placeholder:text-gray-300 shadow-inner"},null,512),[[z,d(x).content]]),t("button",{type:"submit",disabled:d(x).processing||!d(x).content,class:"absolute bottom-8 right-8 px-8 py-4 bg-gray-900 text-white rounded-2xl font-black text-xs hover:bg-indigo-600 disabled:opacity-20 transition-all shadow-xl shadow-gray-200 uppercase tracking-widest"}," Post Mix ",8,Nt)],32),t("div",Et,[(l(!0),n(_,null,D(s.post.comments,o=>(l(),n("div",{key:o.id,class:"group/item"},[t("div",Rt,[t("div",At,i(o.user.name[0]),1),t("div",It,[t("div",Ut,[t("div",qt,[t("span",Ht,i(o.user.name),1),t("span",Ot,i(new Date(o.created_at).toLocaleDateString()),1)]),t("div",Gt,[t("button",{onClick:a=>U(o.id),class:"text-[9px] font-black text-indigo-500 hover:text-indigo-700 uppercase tracking-widest"},i(b.value===o.id?"Cancel":"Reply"),9,Jt),p.value&&p.value.id===o.user_id?(l(),n("button",{key:0,onClick:a=>j(o.id),class:"text-[9px] font-black text-red-200 hover:text-red-500 opacity-0 group-hover/item:opacity-100 transition-all uppercase tracking-widest"}," Delete ",8,Kt)):g("",!0)])]),t("div",Qt,i(o.content),1),b.value===o.id?(l(),n("div",Wt,[t("form",{onSubmit:v(a=>q(o.id),["prevent"]),class:"relative"},[F(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=a=>d(m).content=a),placeholder:"Reply to this mixer...",class:"w-full border-indigo-50 rounded-[1.8rem] p-5 pr-24 focus:ring-2 focus:ring-indigo-400 bg-white shadow-sm resize-none text-sm font-bold min-h-[110px]"},null,512),[[z,d(m).content]]),e[24]||(e[24]=t("button",{type:"submit",class:"absolute bottom-5 right-5 px-5 py-2.5 bg-indigo-600 text-white rounded-xl font-black text-[10px] shadow-lg shadow-indigo-100 uppercase tracking-widest"}," Submit ",-1))],40,Xt)])):g("",!0),o.replies?.length?(l(),n("div",Yt,[(l(!0),n(_,null,D(o.replies,a=>(l(),n("div",{key:a.id,class:"group/reply"},[t("div",Zt,[t("div",te,[t("div",ee,i(a.user.name[0]),1),t("span",se,i(a.user.name),1),t("span",oe,i(new Date(a.created_at).toLocaleDateString()),1)]),p.value&&p.value.id===a.user_id?(l(),n("button",{key:0,onClick:de=>j(a.id),class:"opacity-0 group-hover/reply:opacity-100 text-[8px] font-black text-red-200 hover:text-red-500 uppercase"}," Delete ",8,ie)):g("",!0)]),t("div",re,i(a.content),1)]))),128))])):g("",!0)])])]))),128))])]),t("div",ne,[t("div",le,[e[26]||(e[26]=t("h4",{class:"text-white text-xl font-black italic tracking-tighter mb-4 uppercase"},"Found this story inspiring?",-1)),e[27]||(e[27]=t("p",{class:"text-indigo-200 text-xs font-bold uppercase tracking-[0.2em] mb-8 opacity-70"},"Mix your thoughts and join the trending discussions.",-1)),f(d(C),{href:r.route("posts.index"),class:"px-8 py-4 bg-white text-indigo-900 rounded-2xl font-black text-xs hover:bg-indigo-50 transition-all shadow-xl uppercase tracking-widest inline-block"},{default:y(()=>[...e[25]||(e[25]=[c(" Explore More Feed ",-1)])]),_:1},8,["href"])]),e[28]||(e[28]=t("div",{class:"absolute top-0 right-0 w-32 h-32 bg-indigo-500 rounded-full blur-[60px] opacity-20 -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-700"},null,-1))])])])]),_:1})],64))}},pe=X(ae,[["__scopeId","data-v-aceb0b30"]]);export{pe as default};
