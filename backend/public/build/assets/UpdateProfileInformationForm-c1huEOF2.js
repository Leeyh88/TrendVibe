import{N as y,u as x,g as u,d as o,f as h,b as s,a as t,j as g,A as b,w as k,o as d,i as V,T as U,e as C,s as v}from"./app-DL_rPgRt.js";import{b as r,_ as n,a as m}from"./TextInput-DbtGcZuL.js";const P={class:"flex items-center gap-6"},A=["src"],S=["src"],j={key:2,class:"w-full h-full flex items-center justify-center text-gray-400"},B={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},L={class:"space-y-6"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},N={class:"bg-indigo-50/50 p-6 rounded-[2rem] border border-indigo-100/50"},D={class:"flex items-center gap-4 pt-4"},F=["disabled"],M={key:0,class:"text-sm font-bold text-indigo-600"},H={__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:{type:Boolean},status:{type:String}},setup(R){const i=y().props.auth.user,p=v(null),f=v(null),l=x({_method:"PATCH",name:i.name,email:i.email,public_email:i.public_email||"",profile_photo:null,soundcloud_url:i.soundcloud_url||"",youtube_url:i.youtube_url||"",daw_info:i.daw_info||"",bio:i.bio||"",donation_info:i.donation_info||""}),_=()=>{const c=f.value.files[0];if(!c)return;l.profile_photo=c;const e=new FileReader;e.onload=a=>{p.value=a.target.result},e.readAsDataURL(c)},w=()=>{l.post(route("profile.update"),{preserveScroll:!0,onSuccess:()=>{l.profile_photo=null}})};return(c,e)=>(d(),u("section",null,[e[14]||(e[14]=o("header",null,[o("h2",{class:"text-lg font-bold text-gray-900 flex items-center gap-2"},[o("span",{class:"w-1.5 h-6 bg-indigo-600 rounded-full"}),h(" 아티스트 프로필 정보 ")]),o("p",{class:"mt-1 text-sm text-gray-500 font-medium"},"이미지와 활동 정보를 설정하여 자신을 홍보하세요.")],-1)),o("form",{onSubmit:C(w,["prevent"]),class:"mt-6 space-y-8"},[o("div",P,[o("div",{onClick:e[0]||(e[0]=a=>f.value.click()),class:"relative w-24 h-24 rounded-[2rem] overflow-hidden border-4 border-indigo-50 shadow-md bg-gray-100 cursor-pointer group transition-all hover:ring-4 hover:ring-indigo-200"},[o("input",{type:"file",ref_key:"photoInput",ref:f,class:"hidden",onChange:_,accept:"image/*"},null,544),p.value?(d(),u("img",{key:0,src:p.value,class:"w-full h-full object-cover"},null,8,A)):s(i).profile_photo_path?(d(),u("img",{key:1,src:"/storage/"+s(i).profile_photo_path,class:"w-full h-full object-cover"},null,8,S)):(d(),u("div",j,[...e[8]||(e[8]=[o("svg",{class:"w-10 h-10",fill:"currentColor",viewBox:"0 0 24 24"},[o("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})],-1)])])),e[9]||(e[9]=o("div",{class:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"})])],-1))]),o("div",null,[e[10]||(e[10]=o("h3",{class:"font-bold text-gray-900 text-sm"},"프로필 사진",-1)),e[11]||(e[11]=o("p",{class:"text-[10px] text-gray-400 mt-1 uppercase font-bold tracking-wider"},"이미지를 클릭하여 변경하세요",-1)),t(r,{message:s(l).errors.profile_photo,class:"mt-1"},null,8,["message"])])]),o("div",B,[o("div",null,[t(n,{for:"name",value:"활동 닉네임"}),t(m,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:s(l).name,"onUpdate:modelValue":e[1]||(e[1]=a=>s(l).name=a),required:""},null,8,["modelValue"]),t(r,{class:"mt-2",message:s(l).errors.name},null,8,["message"])]),o("div",null,[t(n,{for:"public_email",value:"연락 이메일 (Public)"}),t(m,{id:"public_email",type:"email",class:"mt-1 block w-full",modelValue:s(l).public_email,"onUpdate:modelValue":e[2]||(e[2]=a=>s(l).public_email=a)},null,8,["modelValue"]),t(r,{class:"mt-2",message:s(l).errors.public_email},null,8,["message"])])]),o("div",L,[o("div",T,[o("div",null,[t(n,{for:"soundcloud_url",value:"SoundCloud URL"}),t(m,{id:"soundcloud_url",type:"url",class:"mt-1 block w-full",modelValue:s(l).soundcloud_url,"onUpdate:modelValue":e[3]||(e[3]=a=>s(l).soundcloud_url=a),placeholder:"https://soundcloud.com/your-id"},null,8,["modelValue"]),t(r,{class:"mt-2",message:s(l).errors.soundcloud_url},null,8,["message"])]),o("div",null,[t(n,{for:"youtube_url",value:"YouTube URL"}),t(m,{id:"youtube_url",type:"url",class:"mt-1 block w-full",modelValue:s(l).youtube_url,"onUpdate:modelValue":e[4]||(e[4]=a=>s(l).youtube_url=a),placeholder:"https://youtube.com/@your-id"},null,8,["modelValue"]),t(r,{class:"mt-2",message:s(l).errors.youtube_url},null,8,["message"])])]),o("div",null,[t(n,{for:"daw_info",value:"주력 DAW (사용 장비)"}),t(m,{id:"daw_info",type:"text",class:"mt-1 block w-full",modelValue:s(l).daw_info,"onUpdate:modelValue":e[5]||(e[5]=a=>s(l).daw_info=a),placeholder:"FL Studio, Ableton Live, Logic Pro 등"},null,8,["modelValue"]),e[12]||(e[12]=o("p",{class:"mt-1 text-[10px] text-gray-400 font-bold uppercase tracking-widest"},"다른 유저들이 당신의 작업 환경을 알 수 있습니다.",-1)),t(r,{class:"mt-2",message:s(l).errors.daw_info},null,8,["message"])]),o("div",null,[t(n,{for:"bio",value:"아티스트 한줄 소개"}),g(o("textarea",{id:"bio",rows:"2",class:"mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-xl shadow-sm transition-all","onUpdate:modelValue":e[6]||(e[6]=a=>s(l).bio=a),placeholder:"당신의 음악 스타일을 짧게 소개해 주세요."},null,512),[[b,s(l).bio]]),t(r,{class:"mt-2",message:s(l).errors.bio},null,8,["message"])])]),e[13]||(e[13]=o("hr",{class:"border-gray-100"},null,-1)),o("div",N,[t(n,{for:"donation_info",value:"후원 정보 (Donation)",class:"text-indigo-600 font-black"}),g(o("textarea",{id:"donation_info",rows:"3",class:"mt-2 block w-full border-gray-200 focus:border-indigo-500 focus:ring-indigo-500 rounded-xl shadow-sm transition-all","onUpdate:modelValue":e[7]||(e[7]=a=>s(l).donation_info=a),placeholder:"예: 카카오페이 송금 링크 또는 은행 계좌번호 (국민 000-00...)"},null,512),[[b,s(l).donation_info]]),t(r,{class:"mt-2",message:s(l).errors.donation_info},null,8,["message"])]),o("div",D,[o("button",{class:"px-8 py-3 bg-indigo-600 text-white rounded-2xl font-black text-sm hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 disabled:opacity-50",disabled:s(l).processing}," 저장하기 ",8,F),t(U,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:k(()=>[s(l).recentlySuccessful?(d(),u("p",M," 성공적으로 반영되었습니다. ")):V("",!0)]),_:1})])],32)]))}};export{H as default};
